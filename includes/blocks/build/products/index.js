(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,a=window.ReactJSXRuntime,l=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",style:{enableBackground:"new 0 0 512 512"},strokeWidth:.005,viewBox:"-76.8 -76.8 665.6 665.6",...e,children:[(0,a.jsx)("rect",{width:665.6,height:665.6,x:-76.8,y:-76.8,fill:"#FFBD59",stroke:"none",strokeWidth:0,rx:332.8}),(0,a.jsx)("path",{fill:"#792a18",d:"M471.149 77.345h-65.362l32.681 348.596h32.681c18.049 0 32.681-14.632 32.681-32.681V110.026c0-18.049-14.633-32.681-32.681-32.681z"}),(0,a.jsx)("path",{fill:"#95341d",d:"M212.426 76.255 256 457.532c18.05 0 32.681-14.631 32.681-32.681h149.787V76.255H212.426z"}),(0,a.jsx)("path",{fill:"#ab5d4a",d:"M40.851 76.255c-18.049 0-32.681 14.632-32.681 32.681V392.17c0 18.049 14.632 32.681 32.681 32.681h182.468c0 18.05 14.631 32.681 32.681 32.681V76.255H40.851z"}),(0,a.jsx)("path",{fill:"#a99e9b",d:"m416.681 337.702 10.893 54.468h43.575v-32.681z"}),(0,a.jsx)("path",{fill:"#c1b8b5",d:"M234.213 337.702 256 417.222v7.629c0-17.974 14.706-32.681 32.681-32.681h137.26v-54.468H234.213z"}),(0,a.jsx)("path",{fill:"#d8d1d0",d:"M40.851 359.489v32.681h182.468c17.974 0 32.681 14.706 32.681 32.681v-98.043L40.851 359.489z"}),(0,a.jsx)("path",{fill:"#e26142",d:"m386.755 468.426 25.857-10.894 25.856 10.894V337.702h-51.713z"}),(0,a.jsx)("path",{fill:"#d8d1d0",d:"m427.574 43.574-32.68 157.958 32.68 157.957h43.575V43.574z"}),(0,a.jsx)("path",{fill:"#f0ebea",d:"M288.681 43.574C270.706 43.574 256 58.281 256 76.255l-32.681 157.957L256 384.545v7.626c0-17.974 14.706-32.681 32.681-32.681h138.894V247.827l-21.787-69.445 21.787-69.445V43.574H288.681z"}),(0,a.jsx)("path",{fill:"#fff",d:"M223.319 43.574H40.851v315.915h182.468c17.974 0 32.681 14.706 32.681 32.681V76.255c0-17.974-14.706-32.681-32.681-32.681z"}),(0,a.jsx)("path",{fill:"#ffbd59",d:"M299.574 108.936h128V247.83h-128z"}),(0,a.jsx)("path",{d:"M479.319 68.908V43.574a8.169 8.169 0 0 0-8.17-8.17H288.681c-13.348 0-25.221 6.435-32.681 16.365-7.46-9.931-19.333-16.365-32.681-16.365H40.851a8.169 8.169 0 0 0-8.17 8.17v25.333C14.057 72.703 0 89.208 0 108.936V392.17c0 22.526 18.325 40.851 40.851 40.851H215.97c3.795 18.624 20.302 32.681 40.03 32.681 19.727 0 36.234-14.057 40.031-32.681h58.043a8.169 8.169 0 0 0 8.17-8.17 8.169 8.169 0 0 0-8.17-8.17h-65.393a8.169 8.169 0 0 0-8.17 8.17c0 13.515-10.996 24.511-24.511 24.511-13.515 0-24.511-10.996-24.511-24.511a8.169 8.169 0 0 0-8.17-8.17H40.851c-13.515 0-24.511-10.996-24.511-24.511V108.936c0-10.651 6.831-19.733 16.34-23.105V359.49a8.169 8.169 0 0 0 8.17 8.17h182.468c13.515 0 24.511 10.996 24.511 24.511a40.754 40.754 0 0 0-24.511-8.17H40.851a8.169 8.169 0 0 0-8.17 8.17 8.169 8.169 0 0 0 8.17 8.17h182.468c13.515 0 24.511 10.996 24.511 24.511 0 4.513 3.657 8.17 8.17 8.17s8.17-3.657 8.17-8.17c0-13.515 10.996-24.511 24.511-24.511h65.393a8.169 8.169 0 0 0 8.17-8.17 8.169 8.169 0 0 0-8.17-8.17h-65.393a40.637 40.637 0 0 0-24.511 8.191c0-13.535 10.996-24.531 24.511-24.531h89.904v100.766a8.171 8.171 0 0 0 11.344 7.529l22.684-9.557 22.684 9.557a8.175 8.175 0 0 0 7.69-.722 8.173 8.173 0 0 0 3.653-6.807v-35.404h24.511c22.526 0 40.851-18.325 40.851-40.851V108.936c-.002-19.728-14.059-36.233-32.683-40.028zm-256 282.411H49.021V51.745h174.298c13.515 0 24.511 10.996 24.511 24.511V359.51a40.637 40.637 0 0 0-24.511-8.191zm40.851 8.191V76.255c0-13.515 10.996-24.511 24.511-24.511h174.298v299.574H288.681a40.645 40.645 0 0 0-24.511 8.192zm166.128 96.608-14.514-6.116a8.184 8.184 0 0 0-6.344 0l-14.514 6.116V367.66h35.372v88.458zm65.362-63.948c0 13.515-10.996 24.511-24.511 24.511h-24.511v-16.34h24.511a8.169 8.169 0 0 0 8.17-8.17 8.169 8.169 0 0 0-8.17-8.17h-24.511v-16.34h24.511a8.169 8.169 0 0 0 8.17-8.17V85.831c9.509 3.373 16.34 12.455 16.34 23.105V392.17z"}),(0,a.jsx)("path",{d:"M212.426 285.957h-128a8.169 8.169 0 0 0-8.17 8.17 8.169 8.169 0 0 0 8.17 8.17h128a8.169 8.169 0 0 0 8.17-8.17 8.169 8.169 0 0 0-8.17-8.17zM212.426 239.66h-128a8.169 8.169 0 0 0-8.17 8.17 8.169 8.169 0 0 0 8.17 8.17h128a8.169 8.169 0 0 0 8.17-8.17 8.169 8.169 0 0 0-8.17-8.17zM212.426 193.362h-128c-4.513 0-8.17 3.657-8.17 8.17s3.657 8.17 8.17 8.17h128c4.513 0 8.17-3.657 8.17-8.17s-3.657-8.17-8.17-8.17zM212.426 147.064h-128c-4.513 0-8.17 3.657-8.17 8.17s3.657 8.17 8.17 8.17h128c4.513 0 8.17-3.657 8.17-8.17s-3.657-8.17-8.17-8.17zM212.426 100.766h-128c-4.513 0-8.17 3.657-8.17 8.17s3.657 8.17 8.17 8.17h128c4.513 0 8.17-3.657 8.17-8.17s-3.657-8.17-8.17-8.17zM435.745 294.128a8.169 8.169 0 0 0-8.17-8.17h-128a8.169 8.169 0 0 0-8.17 8.17 8.169 8.169 0 0 0 8.17 8.17h128a8.169 8.169 0 0 0 8.17-8.17zM299.574 256h128a8.169 8.169 0 0 0 8.17-8.17v-53.106a8.169 8.169 0 0 0-8.17-8.17 8.169 8.169 0 0 0-8.17 8.17v44.936h-111.66V117.106h111.66v44.936a8.169 8.169 0 0 0 8.17 8.17 8.169 8.169 0 0 0 8.17-8.17v-53.106a8.169 8.169 0 0 0-8.17-8.17h-128a8.169 8.169 0 0 0-8.17 8.17V247.83a8.169 8.169 0 0 0 8.17 8.17z"})]}),s=window.wp.i18n,o=window.wp.blockEditor,n=window.wp.components,d=window.wp.data,r=window.wp.serverSideRender;var i=e.n(r);const c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"knowledgebase/products","version":"3.0.0","title":"Knowledge Base Products","category":"design","icon":"products","keywords":["knowledgebase","kb","products"],"description":"Display sections under a selected product for the Knowledge Base","supports":{"html":false},"attributes":{"title":{"type":"string","default":""},"productId":{"type":"number","default":0},"depth":{"type":"number","default":0},"beforeLiItem":{"type":"string","default":""},"afterLiItem":{"type":"string","default":""}},"example":{},"textdomain":"knowledgebase","editorScript":"file:./index.js","editorStyle":"file:./index.css"}');(0,t.registerBlockType)(c.name,{...c,icon:l,edit:function({attributes:e,setAttributes:t}){const r=(0,o.useBlockProps)(),{title:c,productId:h,depth:p,beforeLiItem:b,afterLiItem:u}=e,{products:w}=(0,d.useSelect)((e=>{const{getEntityRecords:t}=e("core");return{products:t("taxonomy","wzkb_product",{per_page:-1,orderby:"name",order:"asc",_fields:["id","name"]})}}),[]),g=w?[{value:0,label:(0,s.__)("Select a product","knowledgebase")},...w.map((e=>({value:e.id,label:e.name})))]:[{value:0,label:(0,s.__)("Loadingâ€¦","knowledgebase")}];return h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.InspectorControls,{children:(0,a.jsxs)(n.PanelBody,{title:(0,s.__)("Settings","knowledgebase"),children:[(0,a.jsx)(n.TextControl,{label:(0,s.__)("Title","knowledgebase"),value:c,onChange:e=>t({title:e})}),(0,a.jsx)(n.SelectControl,{label:(0,s.__)("Product","knowledgebase"),value:h,options:g,onChange:e=>t({productId:parseInt(e)})}),(0,a.jsx)(n.RangeControl,{label:(0,s.__)("Max Depth","knowledgebase"),value:p,onChange:e=>t({depth:e}),min:0,max:10,help:(0,s.__)("0 for unlimited depth","knowledgebase")}),(0,a.jsx)(n.TextControl,{label:(0,s.__)("Before list item","knowledgebase"),value:b,onChange:e=>t({beforeLiItem:e}),help:(0,s.__)("HTML/text to add before each list item","knowledgebase")}),(0,a.jsx)(n.TextControl,{label:(0,s.__)("After list item","knowledgebase"),value:u,onChange:e=>t({afterLiItem:e}),help:(0,s.__)("HTML/text to add after each list item","knowledgebase")})]})}),(0,a.jsx)("div",{...r,children:(0,a.jsx)(n.Disabled,{children:(0,a.jsx)(i(),{block:"knowledgebase/products",attributes:e})})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.InspectorControls,{children:(0,a.jsxs)(n.PanelBody,{title:(0,s.__)("Settings","knowledgebase"),children:[(0,a.jsx)(n.TextControl,{label:(0,s.__)("Title","knowledgebase"),value:c,onChange:e=>t({title:e})}),(0,a.jsx)(n.SelectControl,{label:(0,s.__)("Product","knowledgebase"),value:h,options:g,onChange:e=>t({productId:parseInt(e)})})]})}),(0,a.jsx)("div",{...r,children:(0,a.jsx)(n.Placeholder,{icon:l,label:(0,s.__)("Knowledge Base Products","knowledgebase"),instructions:(0,s.__)("Select a product to display its sections.","knowledgebase"),children:(0,a.jsx)(n.SelectControl,{value:h,options:g,onChange:e=>t({productId:parseInt(e)})})})})]})}})})();