(()=>{"use strict";var e={n:t=>{var l=t&&t.__esModule?()=>t.default:()=>t;return e.d(l,{a:l}),l},d:(t,l)=>{for(var n in l)e.o(l,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:l[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,l=window.React,n=window.wp.i18n,o=window.wp.serverSideRender;var a=e.n(o);const r=window.wp.blockEditor,s=window.wp.components,i=({attributes:e,onUpdateAttribute:t,onToggleAttribute:o,processNumber:a})=>{const{category:r,limit:i,showArticleCount:c,showExcerpt:d,hasClickableSection:b,showEmptySections:w,columns:g,other_attributes:u}=e;return(0,l.createElement)(s.PanelBody,{title:(0,n.__)("Knowledge Base Settings","knowledgebase"),initialOpen:!0},(0,l.createElement)(s.PanelRow,null,(0,l.createElement)(s.TextControl,{label:(0,n.__)("Category ID","knowledgebase"),value:r,onChange:e=>t("category",e||""),help:(0,n.__)("Enter a single category/section ID to display its knowledge base or leave blank to display the full knowledge base. You can find this under Knowledge Base > Sections.","knowledgebase")})),(0,l.createElement)(s.PanelRow,null,(0,l.createElement)(s.TextControl,{label:(0,n.__)("Max articles per section","knowledgebase"),value:i,onChange:e=>t("limit",a(e)),help:(0,n.__)("After this limit is reached, the footer is displayed with the more link to view the category.","knowledgebase")})),(0,l.createElement)(s.PanelRow,null,(0,l.createElement)(s.ToggleControl,{label:(0,n.__)("Show article count","knowledgebase"),help:c?(0,n.__)("Article count displayed","knowledgebase"):(0,n.__)("No article count displayed","knowledgebase"),checked:c,onChange:()=>o("showArticleCount")})),(0,l.createElement)(s.PanelRow,null,(0,l.createElement)(s.ToggleControl,{label:(0,n.__)("Show excerpt","knowledgebase"),help:d?(0,n.__)("Excerpt displayed","knowledgebase"):(0,n.__)("No excerpt","knowledgebase"),checked:d,onChange:()=>o("showExcerpt")})),(0,l.createElement)(s.PanelRow,null,(0,l.createElement)(s.ToggleControl,{label:(0,n.__)("Show clickable section","knowledgebase"),help:b?(0,n.__)("Section headers are linked","knowledgebase"):(0,n.__)("Section headers not linked","knowledgebase"),checked:b,onChange:()=>o("hasClickableSection")})),(0,l.createElement)(s.PanelRow,null,(0,l.createElement)(s.ToggleControl,{label:(0,n.__)("Show empty sections","knowledgebase"),help:w?(0,n.__)("Empty sections displayed","knowledgebase"):(0,n.__)("Empty sections hidden","knowledgebase"),checked:w,onChange:()=>o("showEmptySections")})),(0,l.createElement)(s.PanelRow,null,(0,l.createElement)(s.TextControl,{label:(0,n.__)("Number of columns","knowledgebase"),value:g,onChange:e=>t("columns",a(e)),help:(0,n.__)("Only works when inbuilt styles are enabled in the Settings page","knowledgebase")})),(0,l.createElement)(s.PanelRow,null,(0,l.createElement)(s.TextareaControl,{label:(0,n.__)("Other attributes","knowledgebase"),value:u,onChange:e=>t("other_attributes",e||""),help:(0,n.__)("Enter other attributes in a URL-style string-query.","knowledgebase")})))};(0,t.registerBlockType)("knowledgebase/knowledgebase",{edit:function({attributes:e,setAttributes:t}){const n=(0,r.useBlockProps)(),{processNumber:o,updateAttribute:c,toggleAttribute:d}=((e,t)=>({processNumber:e=>void 0===e||0===e||""===e||isNaN(e)?"":parseInt(e),updateAttribute:(e,l)=>{t({[e]:l})},toggleAttribute:l=>{t({[l]:!e[l]})}}))(e,t);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(i,{attributes:e,onUpdateAttribute:c,onToggleAttribute:d,processNumber:o})),(0,l.createElement)("div",{...n},(0,l.createElement)(s.Disabled,null,(0,l.createElement)(a(),{block:"knowledgebase/knowledgebase",attributes:e}))))},save:()=>null})})();