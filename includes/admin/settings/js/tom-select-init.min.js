!function(t){"use strict";t(document).ready((function(){document.querySelectorAll(".ts_autocomplete").forEach((function(e){const a=e.getAttribute("data-wp-prefix")||"WZ",n=window[`${a}TomSelectSettings`]||WZTomSelectSettings,i=e.getAttribute("data-wp-action")||n.action,o=e.getAttribute("data-wp-nonce")||n.nonce,r=e.getAttribute("data-wp-endpoint")||n.endpoint,s=n.forms,c=n.tags,u=n.custom_fields,l=n.strings,d="forms"===r?s:"tags"===r?c:"custom_fields"===r?u:[];if(!d||!Array.isArray(d))return;const p=d.map((t=>({value:t.id,text:t.name}))),m=e.value.split(",").map((t=>t.trim())).filter(Boolean);let f={};const v=e.getAttribute("data-ts-config");if(v)try{f=JSON.parse(v)}catch(t){}const g={...{plugins:["dropdown_input","clear_button","remove_button"],valueField:"value",labelField:"text",searchField:["text","value"],options:p,items:m,persist:!0,createOnBlur:!1,create:!1,render:{no_results:(t,e)=>`<div class="no-results">${l.no_results.replace("%s",e(t.input))}</div>`,option:(t,e)=>`<div>${e(t.text)} (${e(t.value)})</div>`,item:(t,e)=>`<div>${e(t.text)} (${e(t.value)})</div>`},load:function(e,a){e.length?t.ajax({url:ajaxurl,type:"POST",dataType:"json",data:{action:i,nonce:o,q:e,endpoint:r},error:function(){a()},success:function(t){t.success&&Array.isArray(t.data)?a(t.data.map((t=>({value:t.id,text:t.name})))):a()}}):a()}},...f};try{new TomSelect(e,g)}catch(t){}}))}))}(jQuery);